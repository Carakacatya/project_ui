<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | Finally Found You</title>
    <link rel="stylesheet" href="checkout.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <!-- Logo -->
            <a href="index.html" class="logo">Finally Found You</a>
            
            <!-- Checkout Steps -->
            <div class="checkout-steps">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-label">Information</div>
                </div>
                <div class="step-divider"></div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-label">Shipping</div>
                </div>
                <div class="step-divider"></div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-label">Payment</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Checkout Section -->
    <section class="checkout-section">
        <div class="container">
            <div class="checkout-container">
                <!-- Checkout Form -->
                <div class="checkout-form">
                    <h1>Checkout</h1>
                    
                    <!-- Contact Information -->
                    <div class="form-section">
                        <h2>Contact Information</h2>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" placeholder="Enter your email address">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" placeholder="Enter your phone number">
                        </div>
                    </div>
                    
                    <!-- Shipping Address -->
                    <div class="form-section">
                        <h2>Shipping Address</h2>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="first-name">First Name</label>
                                <input type="text" id="first-name" placeholder="Enter your first name">
                            </div>
                            <div class="form-group">
                                <label for="last-name">Last Name</label>
                                <input type="text" id="last-name" placeholder="Enter your last name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" id="address" placeholder="Enter your street address">
                        </div>
                        <div class="form-group">
                            <label for="apartment">Apartment, suite, etc. (optional)</label>
                            <input type="text" id="apartment" placeholder="Apartment, suite, unit, etc.">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City</label>
                                <input type="text" id="city" placeholder="Enter your city">
                            </div>
                            <div class="form-group">
                                <label for="postal-code">Postal Code</label>
                                <input type="text" id="postal-code" placeholder="Enter postal code">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="country">Country</label>
                            <select id="country">
                                <option value="">Select a country</option>
                                <option value="indonesia" selected>Indonesia</option>
                                <option value="malaysia">Malaysia</option>
                                <option value="singapore">Singapore</option>
                                <option value="thailand">Thailand</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="province">Province</label>
                            <select id="province">
                                <option value="">Select a province</option>
                                <option value="jakarta">DKI Jakarta</option>
                                <option value="west-java">West Java</option>
                                <option value="east-java">East Java</option>
                                <option value="central-java">Central Java</option>
                                <option value="yogyakarta">Yogyakarta</option>
                                <option value="bali">Bali</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="save-info">
                                <span class="checkbox-custom"></span>
                                Save this information for next time
                            </label>
                        </div>
                    </div>
                    
                    <!-- Shipping Method -->
                    <div class="form-section">
                        <h2>Shipping Method</h2>
                        <div class="shipping-options">
                            <label class="shipping-option">
                                <input type="radio" name="shipping" value="standard" checked>
                                <div class="shipping-option-content">
                                    <div class="shipping-option-info">
                                        <div class="shipping-option-name">Standard Shipping</div>
                                        <div class="shipping-option-description">Estimated delivery: 3-5 business days</div>
                                    </div>
                                    <div class="shipping-option-price">Rp 15.000</div>
                                </div>
                            </label>
                            <label class="shipping-option">
                                <input type="radio" name="shipping" value="express">
                                <div class="shipping-option-content">
                                    <div class="shipping-option-info">
                                        <div class="shipping-option-name">Express Shipping</div>
                                        <div class="shipping-option-description">Estimated delivery: 1-2 business days</div>
                                    </div>
                                    <div class="shipping-option-price">Rp 35.000</div>
                                </div>
                            </label>
                            <label class="shipping-option">
                                <input type="radio" name="shipping" value="same-day">
                                <div class="shipping-option-content">
                                    <div class="shipping-option-info">
                                        <div class="shipping-option-name">Same Day Delivery</div>
                                        <div class="shipping-option-description">Available for Jakarta area only</div>
                                    </div>
                                    <div class="shipping-option-price">Rp 50.000</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <a href="cart.html" class="back-link">← Return to cart</a>
                        <a href="payment.html" class="btn continue-btn">Continue to Payment</a>
                    </div>
                </div>
                
                <!-- Order Summary -->
                <div class="order-summary">
                    <h2>Order Summary</h2>
                    
                    <div class="order-items" id="order-items">
                        <!-- Order items will be dynamically added here -->
                    </div>
                    
                    <div class="summary-divider"></div>
                    
                    <div class="promo-code">
                        <div class="promo-form">
                            <input type="text" class="promo-input" placeholder="Promo code">
                            <button class="btn-outline">Apply</button>
                        </div>
                    </div>
                    
                    <div class="summary-divider"></div>
                    
                    <div class="summary-row">
                        <div class="summary-label">Subtotal</div>
                        <div class="summary-value" id="subtotal">Rp 0</div>
                    </div>
                    
                    <div class="summary-row">
                        <div class="summary-label">Shipping</div>
                        <div class="summary-value" id="shipping">Rp 15.000</div>
                    </div>
                    
                    <div class="summary-row">
                        <div class="summary-label">Tax (10%)</div>
                        <div class="summary-value" id="tax">Rp 0</div>
                    </div>
                    
                    <div class="summary-row summary-total">
                        <div class="summary-label">Total</div>
                        <div class="summary-value" id="total">Rp 0</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="products.html">Shop</a>
                <a href="index.html#about">About</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <div class="footer-copyright">© 2025 Finally Found You. All rights reserved.</div>
        </div>
    </footer>

    <script>
        // Load cart from localStorage
        let cart = [];
        const orderItemsContainer = document.getElementById('order-items');
        const subtotalElement = document.getElementById('subtotal');
        const taxElement = document.getElementById('tax');
        const totalElement = document.getElementById('total');
        const shippingElement = document.getElementById('shipping');
        
        function loadCart() {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                renderOrderItems();
                updateOrderSummary();
            }
        }
        
        function renderOrderItems() {
            orderItemsContainer.innerHTML = '';
            
            cart.forEach(item => {
                const itemPrice = parseInt(item.price.replace(/\D/g, '')) || parseInt(item.price);
                const itemTotal = itemPrice * item.quantity;
                
                const orderItemElement = document.createElement('div');
                orderItemElement.className = 'order-item';
                orderItemElement.innerHTML = `
                    <div class="order-item-image">
                        <img src="${item.image}" alt="${item.title}">
                        <span class="item-quantity">${item.quantity}</span>
                    </div>
                    <div class="order-item-details">
                        <h3>${item.title}</h3>
                        <p>Size: 50ml</p>
                    </div>
                    <div class="order-item-price">Rp ${itemTotal.toLocaleString('id-ID')}</div>
                `;
                
                orderItemsContainer.appendChild(orderItemElement);
            });
        }
        
        function updateOrderSummary() {
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemPrice = parseInt(item.price.replace(/\D/g, '')) || parseInt(item.price);
                subtotal += itemPrice * item.quantity;
            });
            
            const tax = subtotal * 0.1;
            const shipping = 15000; // Default shipping cost
            const total = subtotal + tax + shipping;
            
            subtotalElement.textContent = `Rp ${subtotal.toLocaleString('id-ID')}`;
            taxElement.textContent = `Rp ${tax.toLocaleString('id-ID')}`;
            totalElement.textContent = `Rp ${total.toLocaleString('id-ID')}`;
        }
        
        // Shipping method selection
        const shippingOptions = document.querySelectorAll('input[name="shipping"]');
        
        shippingOptions.forEach(option => {
            option.addEventListener('change', () => {
                let shippingCost = 15000; // Default
                
                if (option.value === 'express') {
                    shippingCost = 35000;
                } else if (option.value === 'same-day') {
                    shippingCost = 50000;
                }
                
                shippingElement.textContent = `Rp ${shippingCost.toLocaleString('id-ID')}`;
                
                // Recalculate total
                const subtotal = parseInt(subtotalElement.textContent.replace(/\D/g, '')) || 0;
                const tax = parseInt(taxElement.textContent.replace(/\D/g, '')) || 0;
                const total = subtotal + tax + shippingCost;
                
                totalElement.textContent = `Rp ${total.toLocaleString('id-ID')}`;
            });
        });
        
        // Form validation
        const continueBtn = document.querySelector('.continue-btn');
        const requiredFields = [
            'email', 'phone', 'first-name', 'last-name', 
            'address', 'city', 'postal-code', 'country', 'province'
        ];
        
        continueBtn.addEventListener('click', (e) => {
            let isValid = true;
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.classList.add('error');
                    isValid = false;
                } else {
                    field.classList.remove('error');
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                alert('Please fill in all required fields.');
            }
        });
        
        // Load cart on page load
        window.addEventListener('load', loadCart);
    </script>
</body>
</html>